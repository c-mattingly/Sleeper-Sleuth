(this["webpackJsonpjwt-boilerplate"]=this["webpackJsonpjwt-boilerplate"]||[]).push([[0],{103:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(10),r=n.n(c),s=(n(85),n(86),n(17)),o=n(11),i=(n(87),n(2));function j(){var e=localStorage.getItem("token");e&&(JSON.parse(atob(e.split(".")[1])).exp<Date.now()/1e3&&(localStorage.removeItem("token"),e=null));return e}var l={setToken:function(e){e?localStorage.setItem("token",e):localStorage.removeItem("token")},getToken:j,removeToken:function(){localStorage.removeItem("token")},getUserFromToken:function(){var e=j();return e?JSON.parse(atob(e.split(".")[1])).user:null}},d="/api/users/";var u={signup:function(e){return fetch(d+"signup",{method:"POST",body:e}).then((function(e){if(e.ok)return e.json();throw new Error("Email already taken!")})).then((function(e){var t=e.token;return l.setToken(t)}))},logout:function(){l.removeToken()},login:function(e){return fetch(d+"login",{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)}).then((function(e){if(e.ok)return e.json();throw new Error("Bad Credentials!")})).then((function(e){var t=e.token;return l.setToken(t)}))},getUser:function(){return l.getUserFromToken()}};function b(e){return Object(i.jsx)("h1",{children:"SIGNUP PAGE"})}n(89);function h(e){return Object(i.jsx)("h1",{children:"setup signup PAGE"})}var O=n(145),m=n(146),x=n(30),p=n(135),g=n(147),f=n(139);function v(e){var t,n=e.handleFormSubmit,c=Object(a.useState)(""),r=Object(s.a)(c,2),o=r[0],j=r[1];return Object(i.jsx)(p.a,{id:"SearchBar-container",children:Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n(o)},children:[Object(i.jsx)(g.a,(t={id:"SearchBar-textField",htmlFor:"leagueSearch"},Object(x.a)(t,"id","filled-search"),Object(x.a)(t,"label","Sleeper Username"),Object(x.a)(t,"type","text"),Object(x.a)(t,"variant","standard"),Object(x.a)(t,"value",o),Object(x.a)(t,"onChange",(function(e){j(e.target.value)})),t)),Object(i.jsx)(f.a,{color:"primary",type:"submit",children:"Search"})]})})}var S=n(140),N=n(141),y=n(142),T=n(143);function k(e){var t=e.userName,n=(e.userID,e.userAvatar),a=e.classes,c=e.leagues;return console.log(c.length),t&&"Username Not Found"!==t?Object(i.jsx)(S.a,{className:a.root,children:Object(i.jsx)(N.a,{children:Object(i.jsxs)(y.a,{children:[Object(i.jsxs)(T.a,{gutterBottom:!0,variant:"h3",component:"h2",children:[Object(i.jsx)("img",{id:"InfoCard-avatar",src:"https://sleepercdn.com/avatars/".concat(n)})," ",t]}),Object(i.jsxs)(T.a,{variant:"body2",color:"textSecondary",component:"h4",children:[Object(i.jsx)("b",{children:"Leagues:"})," ",c.length]})]})})}):t?Object(i.jsx)("h3",{children:"Username Not Found"}):Object(i.jsx)("h3",{})}var w=n(148),_=n(149),I=n(144),C=n(55),F=n.n(C);function U(e){var t=e.classes,n=e.team,a=e.rosters,c=e.userName,r=(e.playerDB,a.find((function(e){return e.owner_id===n.user_id})));return r&&"Username Not Found"!==c?Object(i.jsx)("div",{id:"TeamCard-card",children:Object(i.jsx)(S.a,{className:t.root,children:Object(i.jsx)(N.a,{children:Object(i.jsxs)(y.a,{children:[Object(i.jsxs)(T.a,{gutterBottom:!0,variant:"h4",component:"h2",className:"teamNameWithAvatar",children:[Object(i.jsx)("img",{id:"TeamCard-avatar",src:n.metadata.avatar?n.metadata.avatar:"https://sleepercdn.com/avatars/".concat(n.avatar)})," ",Object(i.jsx)("br",{}),Object(i.jsx)("span",{className:c.toLowerCase()===n.display_name.toLowerCase()?"UserTeam":"OtherTeam",children:n.metadata.team_name?n.metadata.team_name:n.display_name})]}),Object(i.jsxs)(T.a,{variant:"body2",color:"textSecondary",component:"h4",children:[Object(i.jsx)("b",{children:"WINS:"})," ",r.settings.wins," \xa0",Object(i.jsx)("b",{children:"LOSSES:"})," ",r.settings.losses," \xa0",Object(i.jsx)("b",{children:"TIES:"})," ",r.settings.ties," \xa0 ",Object(i.jsx)("br",{}),Object(i.jsx)("b",{children:"TOTAL FANTASY POINTS:"})," ",r.settings.fpts," \xa0 ",Object(i.jsx)("br",{}),Object(i.jsx)("b",{children:"FAAB SPENT:"})," ",r.settings.waiver_budget_used," \xa0"]})]})})})}):Object(i.jsx)("h3",{})}function E(e){var t=e.classes,n=e.league,c=e.userName,r=Object(a.useState)(),o=Object(s.a)(r,2),j=o[0],l=o[1],d=Object(a.useState)(),u=Object(s.a)(d,2),b=u[0],h=u[1],O=Object(a.useState)(),m=Object(s.a)(O,2),x=m[0],p=m[1],g="https://api.sleeper.app/v1/league/".concat(n.league_id,"/users"),f="https://api.sleeper.app/v1/league/".concat(n.league_id,"/rosters");return Object(a.useEffect)((function(){n.league_id&&fetch(g).then((function(e){return e.json()})).then((function(e){l(e),console.log(e)}))}),[n.league_id]),Object(a.useEffect)((function(){n.league_id&&fetch(f).then((function(e){return e.json()})).then((function(e){h(e),console.log(e)}))}),[n.league_id]),Object(a.useEffect)((function(){n.league_id&&fetch("/players.json").then((function(e){return e.json()})).then((function(e){p(e),console.log(e)}))}),[n.league_id]),j&&b&&"Username Not Found"!==c?n.avatar?Object(i.jsx)("div",{id:"LeagueCard-card",children:Object(i.jsx)(S.a,{className:t.root,children:Object(i.jsx)(N.a,{children:Object(i.jsxs)(y.a,{children:[Object(i.jsxs)(T.a,{gutterBottom:!0,variant:"h3",component:"h2",children:[Object(i.jsx)("img",{id:"LeagueCard-avatar",src:"https://sleepercdn.com/avatars/".concat(n.avatar)})," ",Object(i.jsx)("br",{}),n.name]}),Object(i.jsxs)(w.a,{id:"LeagueCard-accordion",children:[Object(i.jsx)(_.a,{expandIcon:Object(i.jsx)(F.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(i.jsxs)(T.a,{variant:"body2",color:"textSecondary",component:"h4",children:[Object(i.jsx)("b",{children:"Number of Teams: "})," ",n.total_rosters]})}),Object(i.jsx)(I.a,{children:Object(i.jsx)("div",{className:"TeamCard-container",children:Object(i.jsx)(T.a,{children:j.map((function(e,n){return Object(i.jsx)(U,{classes:t,team:e,rosters:b,rosterInd:n,userName:c,playerDB:x},n)}))})})})]})]})})})}):Object(i.jsx)("div",{id:"LeagueCard-card",children:Object(i.jsx)(S.a,{className:t.root,children:Object(i.jsx)(N.a,{children:Object(i.jsxs)(y.a,{children:[Object(i.jsx)(T.a,{gutterBottom:!0,variant:"h3",component:"h2",children:n.name}),Object(i.jsxs)(w.a,{id:"LeagueCard-accordion",children:[Object(i.jsx)(_.a,{expandIcon:Object(i.jsx)(F.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(i.jsxs)(T.a,{variant:"body2",color:"textSecondary",component:"h4",children:[Object(i.jsx)("b",{children:"Number of Teams: "})," ",n.total_rosters]})}),Object(i.jsx)(I.a,{children:Object(i.jsx)("div",{className:"TeamCard-container",children:Object(i.jsx)(T.a,{children:j.map((function(e,n){return Object(i.jsx)(U,{classes:t,team:e,rosters:b,rosterInd:n,userName:c,playerDB:x},n)}))})})})]})]})})})}):Object(i.jsx)("h3",{})}function B(e){var t=e.leagues,n=e.classes,a=e.userName;return Object(i.jsx)(O.a,{children:t.map((function(e,t){return Object(i.jsx)(E,{classes:n,league:e,userName:a},t)}))})}var A=Object(m.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}}));function L(){var e=Object(a.useState)(),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(),o=Object(s.a)(r,2),j=o[0],l=o[1],d=Object(a.useState)(),u=Object(s.a)(d,2),b=u[0],h=u[1],m=Object(a.useState)([]),x=Object(s.a)(m,2),p=x[0],g=x[1],f=A(),S="https://api.sleeper.app/v1/user/".concat(n),N="https://api.sleeper.app/v1/user/".concat(j,"/leagues/nfl/2021");return Object(a.useEffect)((function(){n&&fetch(S).then((function(e){return e.json()})).then((function(e){e?(l(e.user_id),h(e.avatar),console.log(e.avatar),console.log(e)):c(0==e?"":"Username Not Found")}))}),[n]),Object(a.useEffect)((function(){j&&fetch(N).then((function(e){return e.json()})).then((function(e){g(e),console.log(e)}))}),[j]),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("img",{id:"logo",src:"/sleuthlogo.gif"}),Object(i.jsx)("div",{className:f.root,children:Object(i.jsxs)(O.a,{container:!0,spacing:3,justifyContent:"center",children:[Object(i.jsx)(O.a,{item:!0,xs:12,children:Object(i.jsx)(v,{handleFormSubmit:function(e){c(e)}})}),Object(i.jsx)(O.a,{item:!0,xs:12,children:Object(i.jsx)(k,{classes:f,userID:j,userName:n,userAvatar:b,leagues:p})}),Object(i.jsx)(O.a,{item:!0,xs:12,children:Object(i.jsx)(B,{classes:f,leagues:p,userName:n})})]})}),Object(i.jsx)("div",{id:"copyright",children:"\xa92021 Mike Mattingly"})]})}var D=function(){var e=Object(a.useState)(u.getUser()),t=Object(s.a)(e,2),n=(t[0],t[1]);function c(){n(u.getUser())}return Object(i.jsx)("div",{className:"App",children:Object(i.jsxs)(o.d,{children:[Object(i.jsx)(o.b,{exact:!0,path:"/login",children:Object(i.jsx)(h,{handleSignUpOrLogin:c})}),Object(i.jsx)(o.b,{exact:!0,path:"/signup",children:Object(i.jsx)(b,{handleSignUpOrLogin:c})}),Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(o.d,{children:Object(i.jsx)(o.b,{exact:!0,path:"/",children:Object(i.jsx)(L,{})})})}),Object(i.jsx)(o.a,{to:"/"})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var P=n(46);r.a.render(Object(i.jsx)(P.a,{children:Object(i.jsx)(D,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},86:function(e,t,n){},87:function(e,t,n){},89:function(e,t,n){}},[[103,1,2]]]);
//# sourceMappingURL=main.2906cbec.chunk.js.map